{"ast":null,"code":"/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\nexport const callApiWithToken = async (accessToken, apiEndpoint) => {\n  const headers = new Headers();\n  const bearer = `Bearer ${accessToken}`;\n  headers.append(\"Authorization\", bearer);\n  headers.append(\"Access-Control-Allow-Origin\", \"*\");\n  headers.append(\"Access-Control-Allow-Methods\", \"GET\");\n  headers.append(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\n  const options = {\n    method: \"GET\",\n    headers: headers\n  };\n  return fetch(apiEndpoint, options).then(response => response.json()).catch(error => console.log(error));\n};","map":{"version":3,"sources":["C:/Users/Niranjan.Godbole/source/repos/MicroServicesAuthentication/ms-identity-javascript-react-tutorial/3-Authorization-II/1-call-api/SPA/src/fetch.js"],"names":["callApiWithToken","accessToken","apiEndpoint","headers","Headers","bearer","append","options","method","fetch","then","response","json","catch","error","console","log"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,OAAO,MAAMA,gBAAgB,GAAG,OAAMC,WAAN,EAAmBC,WAAnB,KAAmC;AAC/D,QAAMC,OAAO,GAAG,IAAIC,OAAJ,EAAhB;AACA,QAAMC,MAAM,GAAI,UAASJ,WAAY,EAArC;AAEAE,EAAAA,OAAO,CAACG,MAAR,CAAe,eAAf,EAAgCD,MAAhC;AACAF,EAAAA,OAAO,CAACG,MAAR,CAAe,6BAAf,EAA6C,GAA7C;AACAH,EAAAA,OAAO,CAACG,MAAR,CAAe,8BAAf,EAA8C,KAA9C;AACAH,EAAAA,OAAO,CAACG,MAAR,CAAe,8BAAf,EAA8C,+DAA9C;AACA,QAAMC,OAAO,GAAG;AACZC,IAAAA,MAAM,EAAE,KADI;AAEZL,IAAAA,OAAO,EAAEA;AAFG,GAAhB;AAKA,SAAOM,KAAK,CAACP,WAAD,EAAcK,OAAd,CAAL,CACFG,IADE,CACGC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADf,EAEFC,KAFE,CAEIC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAFb,CAAP;AAGH,CAhBM","sourcesContent":["/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nexport const callApiWithToken = async(accessToken, apiEndpoint) => {\r\n    const headers = new Headers();\r\n    const bearer = `Bearer ${accessToken}`;\r\n\r\n    headers.append(\"Authorization\", bearer);\r\n    headers.append(\"Access-Control-Allow-Origin\",\"*\");\r\n    headers.append(\"Access-Control-Allow-Methods\",\"GET\");\r\n    headers.append(\"Access-Control-Allow-Headers\",\"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\r\n    const options = {\r\n        method: \"GET\",\r\n        headers: headers\r\n    };\r\n\r\n    return fetch(apiEndpoint, options)\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error));\r\n}"]},"metadata":{},"sourceType":"module"}